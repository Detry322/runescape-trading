REG_PARTS = ['full helm', 'platebody', 'platelegs', 'kiteshield']
SKIRT_PARTS = ['full helm', 'platebody', 'plateskirt', 'kiteshield']
DRAGONHIDE_PARTS = ['coif', "d'hide", 'chaps', 'bracers']
GUTHIX_DRAGONHIDE_PARTS = ['coif', 'dragonhide', 'chaps', 'bracers']
DHIDE_PARTS = ["d'hide body", "d'hide chaps", "d'hide vamb"]
PAGES_PARTS = ['page 1', 'page 2', 'page 3', 'page 4']

SETS = {
    "20376": {
        "name": "Steel trimmed set (lg)",
        "format": "Steel {} (t)",
        "parts": REG_PARTS,
    },
    "20379": {
        "name": "Steel trimmed set (sk)",
        "format": "Steel {} (t)",
        "parts": SKIRT_PARTS,
    },
    "12968": {
        "name": "Bronze gold-trimmed set (lg)",
        "format": "Bronze {} (g)",
        "parts": REG_PARTS,
    },
    "13004": {
        "name": "Mithril trimmed set (lg)",
        "format": "Mithril {} (t)",
        "parts": REG_PARTS,
    },
    "13022": {
        "name": "Adamant gold-trimmed set (sk)",
        "format": "Adamant {} (g)",
        "parts": SKIRT_PARTS,
    },
    "13034": {
        "name": "Rune gold-trimmed set (sk)",
        "format": "Rune {} (g)",
        "parts": SKIRT_PARTS,
    },
    "13058": {
        "name": "Bandos rune armour set (sk)",
        "format": "Bandos {}",
        "parts": SKIRT_PARTS,
    },
    "12865": {
        "name": "Green dragonhide set",
        "format": "Green {}",
        "parts": DHIDE_PARTS,
    },
    "12869": {
        "name": "Red dragonhide set",
        "format": "Red {}",
        "parts": DHIDE_PARTS,
    },
    "12871": {
        "name": "Black dragonhide set",
        "format": "Black {}",
        "parts": DHIDE_PARTS,
    },
    "12867": {
        "name": "Blue dragonhide set",
        "format": "Blue {}",
        "parts": DHIDE_PARTS,
    },
    "12960": {
        "name": "Bronze set (lg)",
        "format": "Bronze {}",
        "parts": REG_PARTS,
    },
    "12962": {
        "name": "Bronze set (sk)",
        "format": "Bronze {}",
        "parts": SKIRT_PARTS,
    },
    "12964": {
        "name": "Bronze trimmed set (lg)",
        "format": "Bronze {} (t)",
        "parts": REG_PARTS,
    },
    "12966": {
        "name": "Bronze trimmed set (sk)",
        "format": "Bronze {} (t)",
        "parts": SKIRT_PARTS,
    },
    "12970": {
        "name": "Bronze gold-trimmed set (sk)",
        "format": "Bronze {} (g)",
        "parts": SKIRT_PARTS,
    },
    "12972": {
        "name": "Iron set (lg)",
        "format": "Iron {}",
        "parts": REG_PARTS,
    },
    "12974": {
        "name": "Iron set (sk)",
        "format": "Iron {}",
        "parts": SKIRT_PARTS,
    },
    "12976": {
        "name": "Iron trimmed set (lg)",
        "format": "Iron {} (t)",
        "parts": REG_PARTS,
    },
    "12978": {
        "name": "Iron trimmed set (sk)",
        "format": "Iron {} (t)",
        "parts": SKIRT_PARTS,
    },
    "12980": {
        "name": "Iron gold-trimmed set (lg)",
        "format": "Iron {} (g)",
        "parts": REG_PARTS,
    },
    "12982": {
        "name": "Iron gold-trimmed set (sk)",
        "format": "Iron {} (g)",
        "parts": SKIRT_PARTS,
    },
    "12984": {
        "name": "Steel set (lg)",
        "format": "Steel {}",
        "parts": REG_PARTS,
    },
    "12986": {
        "name": "Steel set (sk)",
        "format": "Steel {}",
        "parts": SKIRT_PARTS,
    },
    "12988": {
        "name": "Black set (lg)",
        "format": "Black {}",
        "parts": REG_PARTS,
    },
    "12992": {
        "name": "Black trimmed set (lg)",
        "format": "Black {} (t)",
        "parts": REG_PARTS,
    },
    "12994": {
        "name": "Black trimmed set (sk)",
        "format": "Black {} (t)",
        "parts": SKIRT_PARTS,
    },
    "12996": {
        "name": "Black gold-trimmed set (lg)",
        "format": "Black {} (g)",
        "parts": REG_PARTS,
    },
    "12998": {
        "name": "Black gold-trimmed set (sk)",
        "format": "Black {} (g)",
        "parts": SKIRT_PARTS,
    },
    "13000": {
        "name": "Mithril set (lg)",
        "format": "Mithril {}",
        "parts": REG_PARTS,
    },
    "13002": {
        "name": "Mithril set (sk)",
        "format": "Mithril {}",
        "parts": SKIRT_PARTS,
    },
    "13006": {
        "name": "Mithril trimmed set (sk)",
        "format": "Mithril {} (t)",
        "parts": SKIRT_PARTS,
    },
    "13008": {
        "name": "Mithril gold-trimmed set (lg)",
        "format": "Mithril {} (g)",
        "parts": REG_PARTS,
    },
    "13010": {
        "name": "Mithril gold-trimmed set (sk)",
        "format": "Mithril {} (g)",
        "parts": SKIRT_PARTS,
    },
    "13014": {
        "name": "Adamant set (sk)",
        "format": "Adamant {}",
        "parts": SKIRT_PARTS,
    },
    "13016": {
        "name": "Adamant trimmed set (lg)",
        "format": "Adamant {} (t)",
        "parts": REG_PARTS,
    },
    "13018": {
        "name": "Adamant trimmed set (sk)",
        "format": "Adamant {} (t)",
        "parts": SKIRT_PARTS,
    },
    "13020": {
        "name": "Adamant gold-trimmed set (lg)",
        "format": "Adamant {} (g)",
        "parts": REG_PARTS,
    },
    "13024": {
        "name": "Rune armour set (lg)",
        "format": "Rune {}",
        "parts": REG_PARTS,
    },
    "13028": {
        "name": "Rune trimmed set (lg)",
        "format": "Rune {} (t)",
        "parts": REG_PARTS,
    },
    "13030": {
        "name": "Rune trimmed set (sk)",
        "format": "Rune {} (t)",
        "parts": SKIRT_PARTS,
    },
    "13032": {
        "name": "Rune gold-trimmed set (lg)",
        "format": "Rune {} (g)",
        "parts": REG_PARTS,
    },
    "13036": {
        "name": "Gilded armour set (lg)",
        "format": "Gilded {}",
        "parts": REG_PARTS,
    },
    "13038": {
        "name": "Gilded armour set (sk)",
        "format": "Gilded {}",
        "parts": SKIRT_PARTS,
    },
    "13040": {
        "name": "Saradomin armour set (lg)",
        "format": "Saradomin {}",
        "parts": REG_PARTS,
    },
    "13042": {
        "name": "Saradomin armour set (sk)",
        "format": "Saradomin {}",
        "parts": SKIRT_PARTS,
    },
    "13044": {
        "name": "Zamorak armour set (lg)",
        "format": "Zamorak {}",
        "parts": REG_PARTS,
    },
    "13046": {
        "name": "Zamorak armour set (sk)",
        "format": "Zamorak {}",
        "parts": SKIRT_PARTS,
    },
    "13048": {
        "name": "Guthix armour set (lg)",
        "format": "Guthix {}",
        "parts": REG_PARTS,
    },
    "13050": {
        "name": "Guthix armour set (sk)",
        "format": "Guthix {}",
        "parts": SKIRT_PARTS,
    },
    "13054": {
        "name": "Armadyl rune armour set (sk)",
        "format": "Armadyl {}",
        "parts": SKIRT_PARTS,
    },
    "13056": {
        "name": "Bandos rune armour set (lg)",
        "format": "Bandos {}",
        "parts": REG_PARTS,
    },
    "13060": {
        "name": "Ancient rune armour set (lg)",
        "format": "Ancient {}",
        "parts": REG_PARTS,
    },
    "13062": {
        "name": "Ancient rune armour set (sk)",
        "format": "Ancient {}",
        "parts": SKIRT_PARTS,
    },
    "13149": {
        "name": "Holy book page set",
        "format": "Saradomin {}",
        "parts": PAGES_PARTS,
    },
    "13151": {
        "name": "Unholy book page set",
        "format": "Zamorak {}",
        "parts": PAGES_PARTS,
    },
    "13153": {
        "name": "Book of balance page set",
        "format": "Guthix {}",
        "parts": PAGES_PARTS,
    },
    "13155": {
        "name": "Book of war page set",
        "format": "Bandos {}",
        "parts": PAGES_PARTS,
    },
    "13157": {
        "name": "Book of law page set",
        "format": "Armadyl {}",
        "parts": PAGES_PARTS,
    },
    "13159": {
        "name": "Book of darkness page set",
        "format": "Ancient {}",
        "parts": PAGES_PARTS,
    },
    "13161": {
        "name": "Zamorak dragonhide set",
        "format": "Zamorak {}",
        "parts": DRAGONHIDE_PARTS,
    },
    "13163": {
        "name": "Saradomin dragonhide set",
        "format": "Saradomin {}",
        "parts": DRAGONHIDE_PARTS,
    },
    "13165": {
        "name": "Guthix dragonhide set",
        "format": "Guthix {}",
        "parts": GUTHIX_DRAGONHIDE_PARTS,
    },
    "13167": {
        "name": "Bandos dragonhide set",
        "format": "Bandos {}",
        "parts": DRAGONHIDE_PARTS,
    },
    "13169": {
        "name": "Armadyl dragonhide set",
        "format": "Armadyl {}",
        "parts": DRAGONHIDE_PARTS,
    },
    "13171": {
        "name": "Ancient dragonhide set",
        "format": "Ancient {}",
        "parts": DRAGONHIDE_PARTS,
    },
    "12990": {
        "name": "Black set (sk)",
        "format": "Black {}",
        "parts": SKIRT_PARTS,
    },
    "13012": {
        "name": "Adamant set (lg)",
        "format": "Adamant {}",
        "parts": REG_PARTS,
    },
    "13026": {
        "name": "Rune armour set (sk)",
        "format": "Rune {}",
        "parts": SKIRT_PARTS,
    },
    "13052": {
        "name": "Armadyl rune armour set (lg)",
        "format": "Armadyl {}",
        "parts": REG_PARTS,
    },
    "20382": {
        "name": "Steel gold-trimmed set (lg)",
        "format": "Steel {} (g)",
        "parts": REG_PARTS,
    },
    "20385": {
        "name": "Steel gold-trimmed set (sk)",
        "format": "Steel {} (g)",
        "parts": SKIRT_PARTS,
    },
    "21049": {
        "name": "Ancestral robes set",
        "format": "{}",
        "parts": ["Ancestral hat", "Ancestral robe top", "Ancestral robe bottom"],
    },
    "12863": {
        "name": "Dwarf cannon set",
        "format": "{}",
        "parts": ["Cannon base", "Cannon stand", "Cannon barrels", "Cannon furnace"],
    },
    "13173": {
        "name": "Partyhat set",
        "format": "{} partyhat",
        "parts": ["Red", "Yellow", "Blue", "Purple", "Green", "White"],
    },
    "13175": {
        "name": "Halloween mask set",
        "format": "{} halloween mask",
        "parts": ["Red", "Green", "Blue"],
    },
    "12881": {
        "name": "Ahrim's armour set",
        "format": "Ahrim's {}",
        "parts": ["hood", "robetop", "robeskirt", "staff"],
    },
    "12873": {
        "name": "Guthan's armour set",
        "format": "Guthan's {}",
        "parts": ["helm", "platebody", "chainskirt", "warspear"],
    },
    "12879": {
        "name": "Torag's armour set",
        "format": "Torag's {}",
        "parts": ["helm", "platebody", "platelegs", "hammers"],
    },
    "13064": {
        "name": "Combat potion set",
        "format": "{} potion(4)",
        "parts": ["Attack", "Strength", "Defence"],
    },
    "13066": {
        "name": "Super potion set",
        "format": "Super {}(4)",
        "parts": ["attack", "strength", "defence"],
    },
    "21279": {
        "name": "Obsidian armour set",
        "format": "Obsidian {}",
        "parts": ["helmet", "platebody", "platelegs"],
    },
    "12875": {
        "name": "Verac's armour set",
        "format": "Verac's {}",
        "parts": ["helm", "brassard", "plateskirt", "flail"],
    },
    "12877": {
        "name": "Dharok's armour set",
        "format": "Dharok's {}",
        "parts": ["helm", "platebody", "platelegs", "greataxe"],
    },
    "12883": {
        "name": "Karil's armour set",
        "format": "Karil's {}",
        "parts": ["coif", "leathertop", "leatherskirt", "crossbow"],
    },
}

from helpers import relative_path
import json

with open(relative_path('data', 'summary.json')) as f:
    data = json.load(f)

reverse_index = {}
for (key, value) in data.iteritems():
    reverse_index[value['name']] = key

sets = {}

for s in SETS.values():
    sets[reverse_index[s['name']]] = {
        'name': s['name'],
        'id': reverse_index[s['name']],
        'parts': [
            {
                "name": s['format'].format(p),
                "id": reverse_index[s['format'].format(p)]
            }
            for p in s['parts']
        ]
    }

with open(relative_path('sets.json'), 'w') as f:
    json.dump(sets, f)
